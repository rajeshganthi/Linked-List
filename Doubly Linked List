public class Main
{
	public static void main(String[] args) {
		DoublyLL list = new DoublyLL();
		list.insertElement(10);
		list.insertElement(20);
		list.display();
		System.out.println();
		list.insertElement(30);
		list.insertElement(40);
		list.display();
		System.out.println();
		list.printReverse();
		list.insertAtMiddle(25,20);
		System.out.println();
		list.display();
		System.out.println();
		list.insertAtBeginning(5);
		list.display();
		System.out.println();
		list.insertAtEnd(50);
		list.display();
	}
}

class Node{
    int data;
    Node prev;
    Node next;
    
    public Node(int data){
        this.data = data;
        prev = null;
        next = null;
    }
}

class DoublyLL{
    Node head,tail;
    public void insertElement(int data){
        Node node = new Node(data);
        if(head==null){
            head = tail = node;
            return;
        }
        tail.next = node;
        node.prev = tail;
        tail = node;
    }
    
    public void display(){
        Node temp = head;
        System.out.print("null<-->");
        while(temp!=null){
            System.out.print(temp.data+"<-->");
            temp = temp.next;
        }
        System.out.print("null");
    }
    
    public void printReverse(){
        Node temp = tail;
        System.out.print("null");
        while(temp!=null){
            System.out.print("<-->"+temp.data);
            temp = temp.prev;
        }
        System.out.print("<-->null");
    }
    
    public void insertAtMiddle(int data, int index){
        Node node = new Node(data);
        Node temp = head;
      
        while(temp!=null){
            if(temp.data==index){
                Node nextTemp = temp.next;
                temp.next = node;
                node.prev = temp;
                node.next = nextTemp;
                if(nextTemp!=null){
                    nextTemp.prev = node;
                }else{
                    tail = node;
                }
            }
            temp = temp.next;
        }
    }
    
    public void insertAtBeginning(int data){
        Node node = new Node(data);
        node.next = head;
        head.prev = node;
        head = node;
    }
    
    public void insertAtEnd(int data){
        Node node = new Node(data);
        tail.next = node;
        node.prev = tail;
        tail = node;
    }
}
